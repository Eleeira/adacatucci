@import "tailwindcss";
@import "@fontsource-variable/oxanium";
@import "@fontsource-variable/space-grotesk";
@import "@fontsource-variable/jetbrains-mono";
@import "flag-icons/css/flag-icons.min.css";

/* ---------- Tema (fonts + colori) ---------- */
@theme {
--font-sans: "Space Grotesk Variable", "Space Grotesk", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
--font-mono: "JetBrains Mono Variable", "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
--font-display: "Oxanium Variable", "Oxanium", "Space Grotesk Variable", "Space Grotesk", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;


  --color-cyber-bg: #00060e;
  --color-cyber-neon: #fee801;
  --color-cyber-azz: #54c1e6;
  --color-cyber-turch: #39c4b6;
}


/* Default body */
/* in index.css, dopo @layer base esistente */
@layer base {
  h1, h2, h3 { font-family: var(--font-display); }
}

/* Utility per i titoli */
@layer utilities {
  .font-display { font-family: var(--font-display) !important; }
}



/* ---------- Component utilities ---------- */
@layer components {
  .glass { @apply rounded-2xl border border-white/20 bg-white/8 backdrop-blur-sm ring-1 ring-white/10 shadow-[0_0_45px_rgba(84,193,230,.25)]; }
  .chip  { @apply rounded-2xl border border-white/20 bg-white/8 backdrop-blur-sm; }
  .btn   { @apply rounded-2xl border border-white/20 bg-white/8 backdrop-blur-sm px-3 py-1.5 text-sm hover:bg-white/12 focus:outline-none focus:ring-2 focus:ring-cyber-neon/50; }
}



/* ---------- Stage transitions ---------- */
@keyframes fade-in  { 0%{opacity:0; transform:translateY(4px) scale(.985)} 100%{opacity:1; transform:translateY(0) scale(1)} }
@keyframes fade-out { 0%{opacity:1; transform:translateY(0)  scale(1)}    100%{opacity:0; transform:translateY(4px) scale(.985)} }

.animate-in  { animation: fade-in  .26s cubic-bezier(.22,.61,.36,1) both; will-change: opacity, transform; }
.animate-out { animation: fade-out .20s cubic-bezier(.22,.61,.36,1) both; will-change: opacity, transform; }

.stage-layer{
  position: absolute; inset: 0;
  display: grid; place-items: center;
  overflow-y: auto;                   /* ← scroll interno */
  -webkit-overflow-scrolling: touch;  /* ← momentum scroll iOS */
  overscroll-behavior: contain;       /* ← non “trascina” la pagina al footer */
  padding: 1rem;                      /* un po’ di respiro sui bordi in mobile */
}
/* util per altezza viewport “mobile safe” */
.min-h-svh { min-height: 100svh; }


/* ---------- FX overlay (ScreenWipe) ---------- */
.fx-overlay { position: fixed; inset: 0; pointer-events: none; }

/* grana/scanline leggera */
.fx-grain {
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,.03) 0 1px, transparent 1px 2px),
    repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 1px, transparent 1px 2px);
  mix-blend-mode: overlay;
  opacity: .35;
  animation: fx-grain 900ms steps(6) infinite;
}
@keyframes fx-grain {
  0% { background-position: 0 0, 0 0 }
  100% { background-position: 0 4px, 4px 0 }
}

/* sweep scanlines */
.fx-scan {
  background:
    linear-gradient(180deg, rgba(84,193,230,.22), rgba(84,193,230,0)),
    repeating-linear-gradient(180deg, rgba(255,255,255,.06) 0 2px, rgba(0,0,0,0) 2px 4px);
  animation: fx-scan-in 520ms cubic-bezier(.22,.61,.36,1) both;
  will-change: opacity, transform;
}
@keyframes fx-scan-in {
  0%   { opacity: 0; transform: translateY(-3%) scale(1.01) }
  12%  { opacity: 1 }
  45%  { transform: translateY(0) }
  60%  { opacity: .92 }
  100% { opacity: 0 }
}

/* iris neon che rivela */
.fx-iris { will-change: opacity, clip-path; }
.fx-iris::before {
  content: "";
  position: absolute; inset: 0;
  background:
    radial-gradient(circle at 50% 50%,
      rgba(254,232,1,.18) 0 22%,
      rgba(0,0,0,.85) 58%,
      rgba(0,0,0,1) 78%);
  animation: fx-iris 520ms ease-in-out both;
  will-change: opacity, clip-path;
}
@keyframes fx-iris {
  0%   { clip-path: circle(0% at 50% 50%);   opacity:1 }
  40%  {                                         opacity:1 }
  100% { clip-path: circle(140% at 50% 50%); opacity:0 }
}

/* ---------- Glitch split (IntroGate) ---------- */
.glitching { filter: contrast(1.05) saturate(1.15); }

.intro-img-glitch {
  position: absolute; inset: 0;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0;
}
.glitching .intro-img-glitch { opacity: .75; }

.glitching .intro-img-r {
  filter: hue-rotate(310deg) saturate(1.8);
  animation: intro-glitch-r 120ms steps(2) 1;
}
.glitching .intro-img-c {
  filter: hue-rotate(180deg) saturate(1.8);
  animation: intro-glitch-c 120ms steps(2) 1;
}
@keyframes intro-glitch-r { 0%{transform:translateX(-1px)} 50%{transform:translateX(2px)} 100%{transform:translateX(0)} }
@keyframes intro-glitch-c { 0%{transform:translateX(1px)}  50%{transform:translateX(-2px)} 100%{transform:translateX(0)} }



/* ---------- Radial menu (animations & hover) ---------- */
@keyframes seg-in { 
  from { opacity: 0; transform: scale(.96) } 
  to   { opacity: 1; transform: scale(1) } 
}

.radial-enter {
  opacity: 0;
  animation: seg-in .28s cubic-bezier(.22,.61,.36,1) both;
  transform-box: fill-box;
  transform-origin: center;
}

/* Neon pulse + lieve zoom per i wedge SVG */
.radial-wedge {
  transition: filter .2s ease, transform .2s ease, fill .2s ease;
  transform-box: fill-box;
  transform-origin: center;
}
.radial-wedge:hover {
  filter: drop-shadow(0 0 16px rgba(84,193,230,.55));
  transform: scale(1.03);
}


/* ——— SVG focus ring fix ——— */
svg *:focus { outline: none; }
.radial-wedge:focus { outline: none; }
.radial-wedge:focus-visible {
  outline: none;
  /* focus indicator accessibile (glow) */
  filter: drop-shadow(0 0 16px rgba(84,193,230,.75));
}
/* Niente highlight grigio su mobile */
.radial-wedge { -webkit-tap-highlight-color: transparent; }


/* ---------- Ripple neon (click) ---------- */
@keyframes ripple-neon {
  0%   { transform: translate(-50%,-50%) scale(.2); opacity:.9 }
  70%  { opacity:.45 }
  100% { transform: translate(-50%,-50%) scale(6); opacity:0 }
}
.ripple-layer { position:absolute; inset:0; pointer-events:none; }
.ripple-ring  {
  position:absolute; top:50%; left:50%;
  width:10px; height:10px; border-radius:9999px;
  border:1.5px solid rgba(84,193,230,.9);                 /* azzurro neon */
  box-shadow: 0 0 18px rgba(84,193,230,.55), inset 0 0 18px rgba(84,193,230,.35);
  animation: ripple-neon 360ms cubic-bezier(.22,.61,.36,1) both;
}
.ripple-ring--2 {
  border-color: rgba(254,232,1,.9);                       /* giallo neon */
  box-shadow: 0 0 18px rgba(254,232,1,.55), inset 0 0 18px rgba(254,232,1,.35);
  animation-delay: 70ms;
}
@media (prefers-reduced-motion: reduce) {
  .ripple-ring { animation: none }
}








/* ---------- Footer FX ---------- */
.neon-divider {
  height: 2px;
  background: linear-gradient(90deg,
    transparent 0%,
    color-mix(in oklab, var(--color-cyber-neon) 0%, transparent) 15%,
    var(--color-cyber-neon) 50%,
    color-mix(in oklab, var(--color-cyber-neon) 0%, transparent) 85%,
    transparent 100%);
  box-shadow: 0 0 14px color-mix(in oklab, var(--color-cyber-neon) 55%, transparent);
  animation: neon-shift 5s linear infinite;
}
@keyframes neon-shift {
  from { background-position: 0 0 }
  to   { background-position: 200% 0 }
}

/* leggerissime scanlines orizzontali */
.footer-scan {
  position: absolute; inset: 0; pointer-events: none; opacity: .15;
  background: repeating-linear-gradient(180deg, rgba(255,255,255,.06) 0 1px, transparent 1px 3px);
}

/* link neon & social */
.link-neon {
  color: rgba(255,255,255,.9);
  text-decoration: none;
  position: relative;
}
.link-neon::after {
  content: ""; position: absolute; left: 0; bottom: -2px; width: 0; height: 1px;
  background: var(--color-cyber-neon);
  box-shadow: 0 0 8px color-mix(in oklab, var(--color-cyber-neon) 55%, transparent);
  transition: width .22s ease;
}
.link-neon:hover::after { width: 100%; }

/* social buttons (glass mini) */
.social-btn {
  display: inline-grid; place-items: center;
  width: 32px; height: 32px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.2);
  background: color-mix(in oklab, white 8%, transparent);
  backdrop-filter: blur(6px);
  color: white;
  transition: transform .15s ease, box-shadow .15s ease, background-color .15s ease;
}
.social-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 0 14px color-mix(in oklab, var(--color-cyber-neon) 55%, transparent);
  background: color-mix(in oklab, var(--color-cyber-neon) 12%, transparent);
}








/* ---------- Marquee glitch ---------- */
.marquee-wrap {
  position: relative; overflow: hidden;
  border-top: 1px solid rgba(255,255,255,.12);
  border-bottom: 1px solid rgba(255,255,255,.08);
  background:
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0)),
    rgba(0,0,0,.25);
}
.marquee-track {
  display: inline-flex; gap: 3rem;   /* inline-flex = larghezza = contenuto */
  white-space: nowrap;
  padding: .5rem 0;
  animation: marquee var(--marquee-speed, 22s) linear infinite;
  will-change: transform;
}
.marquee-item {
  font-family: var(--font-display);
  font-size: 12px; letter-spacing: .2em; text-transform: uppercase;
  color: rgba(255,255,255,.92);
  text-shadow:
    0 0 6px color-mix(in oklab, var(--color-cyber-neon) 35%, transparent),
    0 0 14px color-mix(in oklab, var(--color-cyber-neon) 20%, transparent);
}
@keyframes marquee {
  from { transform: translate3d(0,0,0); }
  to   { transform: translate3d(-50%,0,0); }  /* più fluido su GPU */
}








/* ---------- Status bar (uptime/ping) ---------- */
.status-bar {
  position: relative;
  border-top: 1px solid rgba(255,255,255,.08);
  background:
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)),
    rgba(0,0,0,.35);
}
.status-inner {
  display: flex; align-items: center; justify-content: center;
  gap: .75rem; padding: .4rem .75rem;
}
.status-dot {
  color: var(--color-cyber-neon);
  filter: drop-shadow(0 0 8px color-mix(in oklab, var(--color-cyber-neon) 60%, transparent));
  animation: dot-blink 1.6s ease-in-out infinite;
}
.sep { opacity: .5 }

/* Blink del dot LIVE */
@keyframes dot-blink {
  0%, 100% { opacity: .35; }
  50%      { opacity: 1; }
}

/* Reduced motion: spegni animazioni */
@media (prefers-reduced-motion: reduce) {
  .marquee-track, .status-dot { animation: none !important; }
}







/* ---------- Footer full-glass ---------- */
.footer-glass{
  position: relative;
  background: rgba(0,0,0,.45);                  /* necessario per iOS: bg traslucido */
  backdrop-filter: blur(6px) saturate(1.1);
  -webkit-backdrop-filter: blur(6px) saturate(1.1);
  border-top: 1px solid rgba(255,255,255,.10);
  box-shadow: inset 0 10px 30px rgba(0,0,0,.35);
}
/* Fallback se il browser non supporta backdrop-filter */
@supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
  .footer-glass{ background: rgba(0,0,0,.70); }
}

/* Barra finale leggermente più scura (opzionale) */
.footer-bottom{
  background: rgba(0,0,0,.30); /* eredita il blur dal contenitore */
}





/* Cursor minimal neon — attiva se c'è QUALSIASI puntatore fine (mouse, penna, ecc.) */
@media (any-pointer: fine) {
  /* cursore di default: pallino */
  html, body {
    /* hotspot al centro 16 16 (per PNG 32x32) */
    cursor: url("./assets/cursors/neon-dot.png") 16 16, auto;
  }

  /* elementi cliccabili: versione "pointer" + fallback pointer */
  a, button, [role="button"], .btn, .radial-wedge {
    cursor: url("./assets/cursors/neon-pointer.png") 16 16, pointer;
  }

  /* campi testuali: mantieni l'I-beam */
  input, textarea {
    cursor: text;
  }
}

/* Su touch evita i cursori custom */
@media (any-pointer: coarse) {
  html, body, a, button, [role="button"], .btn, .radial-wedge {
    cursor: auto;
  }
}
